#---------------------------------------------------#
## 自定义Clash配置
## 作者： Colin Chang
## 更新：2023-04-13 
#---------------------------------------------------#


allow-lan: false
mode: Rule
log-level: info

proxy-providers:
  WestData-HongKong:
    type: http
    path: ./ProxySet/WestData/HongKong.yaml
    url: https://api.wd-blue.com/sub?target=clash&emoji=true&udp=true&scv=true&new_name=true&filename=WD_Trojan&url=https%3A%2F%2Fwd-blue.com%2Fsubscribe%2Fpjgajz-b4l_52nw
    interval: 1800
    filter: 'Hong Kong'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  WestData-TaiWan:
    type: http
    path: ./ProxySet/WestData/TaiWan.yaml
    url: https://api.wd-blue.com/sub?target=clash&emoji=true&udp=true&scv=true&new_name=true&filename=WD_Trojan&url=https%3A%2F%2Fwd-blue.com%2Fsubscribe%2Fpjgajz-b4l_52nw
    interval: 1800
    filter: 'Taiwan'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  WestData-Singapore:
    type: http
    path: ./ProxySet/WestData/Singapore.yaml
    url: https://api.wd-blue.com/sub?target=clash&emoji=true&udp=true&scv=true&new_name=true&filename=WD_Trojan&url=https%3A%2F%2Fwd-blue.com%2Fsubscribe%2Fpjgajz-b4l_52nw
    interval: 1800
    filter: 'Singapore'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  WestData-Japan:
    type: http
    path: ./ProxySet/WestData/Japan.yaml
    url: https://api.wd-blue.com/sub?target=clash&emoji=true&udp=true&scv=true&new_name=true&filename=WD_Trojan&url=https%3A%2F%2Fwd-blue.com%2Fsubscribe%2Fpjgajz-b4l_52nw
    interval: 1800
    filter: 'Japan'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  WestData-USA:
    type: http
    path: ./ProxySet/WestData/USA.yaml
    url: https://api.wd-blue.com/sub?target=clash&emoji=true&udp=true&scv=true&new_name=true&filename=WD_Trojan&url=https%3A%2F%2Fwd-blue.com%2Fsubscribe%2Fpjgajz-b4l_52nw
    interval: 1800
    filter: 'United States'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  WestData-ALL:
    type: http
    path: ./ProxySet/WestData/USA.yaml
    url: https://api.wd-blue.com/sub?target=clash&emoji=true&udp=true&scv=true&new_name=true&filename=WD_Trojan&url=https%3A%2F%2Fwd-blue.com%2Fsubscribe%2Fpjgajz-b4l_52nw
    interval: 1800
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300


proxy-groups:
  - name: 🚀 节点选择
    type: select
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - 🇭🇰 香港节点
      - 🇹🇼 台湾节点
      - 🇸🇬 新加坡节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
      - WestData-ALL
  - name: 🇭🇰 香港节点
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - WestData-HongKong
  - name: 🇹🇼 台湾节点
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - WestData-Taiwan
 - name: 🇯🇵 日本节点
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - WestData-Japan
  - name: 🇸🇬 新加坡节点
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - WestData-Singapore
  - name: 🇺🇲 美国节点
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - WestData-USA
  - name: 🎥 海外媒体
    type: select
    proxies:
      - 节点选择
      - 🇭🇰 香港节点
      - 🇹🇼 台湾节点
      - 🇸🇬 新加坡节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
  - name: 📽️ Emby
    type: select
    proxies:
      - 节点选择
      - 🇭🇰 香港节点
      - 🇹🇼 台湾节点
      - 🇸🇬 新加坡节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
  - name: 🤖 人工智能
    type: select
    use:
      - 节点选择
      - 🇭🇰 香港节点
      - 🇹🇼 台湾节点
      - 🇸🇬 新加坡节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
  - name: Ⓜ️ 微软服务
    type: select
    proxies:
      - 直接连接
      - 节点选择
      - 🇭🇰 香港节点
      - 🇹🇼 台湾节点
      - 🇸🇬 新加坡节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
    - name: ☁️ OneDrive
    type: select
    proxies:
      - 直接连接
      - 节点选择
      - 🇭🇰 香港节点
      - 🇹🇼 台湾节点
      - 🇸🇬 新加坡节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
  - name: 🎯 直接连接
    type: select
    proxies:
      - DIRECT

rule-providers:
  
  ai_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/non_ip/ai.txt
    path: ./sukkaw_ruleset/ai_non_ip.txt

  stream_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/non_ip/stream.txt
    path: ./sukkaw_ruleset/stream_non_ip.txt
    
  stream_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/ip/stream.txt
    path: ./sukkaw_ruleset/stream_ip.txt

  microsoft_cdn_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: 
    path: ./sukkaw_ruleset/microsoft_cdn_non_ip.txt

  microsoft_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/non_ip/microsoft.txt
    path: ./sukkaw_ruleset/microsoft_non_ip.txt

  download_domainset:
    type: http
    behavior: domain
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/domainset/download.txt
    path: ./sukkaw_ruleset/download_domainset.txt
    
  download_non_ip:
    type: http
    behavior: domain
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/non_ip/download.txt
    path: ./sukkaw_ruleset/download_non_ip.txt

  SteamRegionCheck:
    type: http
    behavior: domain
    format: text
    interval: 43200
    url: https://raw.githubusercontent.com/Alexius66/MyRule/main/Rule-Providers/Rules/SteamRegionCheck.txt
    path: ./sukkaw_ruleset/SteamRegionCheck.txt

  OneDrive:
    type: http
    behavior: domain
    format: text
    interval: 43200
    url: https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/Ruleset/OneDrive.yaml
    path: ./user_ruleset/OneDrive.txt
    
  UserProxy_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://github.com/Alexius66/MyRule/raw/main/Rule-Providers/Rules/UserProxy_non_ip.txt
    path: ./user_ruleset/UserProxy_non_ip.txt

  domestic_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/non_ip/domestic.txt
    path: ./sukkaw_ruleset/domestic_non_ip.txt
    
  direct_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/non_ip/direct.txt
    path: ./sukkaw_ruleset/direct_non_ip.txt
    
  global_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/non_ip/global.txt
    path: ./sukkaw_ruleset/global_non_ip.txt
    
  domestic_ip:
    type: http
    behavior: classical
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/ip/domestic.txt
    path: ./sukkaw_ruleset/domestic_ip.txt

  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400

  china_ip:
    type: http
    behavior: ipcidr
    format: text
    interval: 43200
    url: https://ruleset.skk.moe/Clash/ip/china_ip.txt
    path: ./sukkaw_ruleset/china_ip.txt

  lancidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./ruleset/lancidr.yaml
    interval: 86400

  applications:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"
    path: ./ruleset/applications.yaml
    interval: 86400
    
rules:
  # 自定义规则rules:
  - RULE-SET,applications,DIRECT
  - RULE-SET,private,DIRECT
  - RULE-SET,download_domainset,DIRECT
  - RULE-SET,download_non_ip,DIRECT
  - RULE-SET,microsoft_cdn_non_ip,DIRECT
  - RULE-SET,SteamRegionCheck,DIRECT
  - RULE-SET,OneDrive,☁️ OneDrive
  - RULE-SET,microsoft_non_ip,Ⓜ️ 微软服务
  - RULE-SET,ai_non_ip,🤖 人工智能
  - RULE-SET,stream_non_ip,🎥 海外媒体
  - RULE-SET,global_non_ip, 🚀 节点选择
  - RULE-SET,UserProxy_non_ip, 🚀 节点选择
  - RULE-SET,domestic_non_ip,DIRECT
  - RULE-SET,direct_non_ip,DIRECT
  - RULE-SET,stream_ip,🎥 海外媒体
  - RULE-SET,domestic_ip,DIRECT
  - RULE-SET,lancidr,DIRECT
  - RULE-SET,china_ip,DIRECT
  - GEOIP,LAN,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,PROXY
